<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>test</title>
</head>
<body>
    <div class="bg-[#1c1c1c] min-h-screen min-w-screen flex flex-col justify-center items-center" id="main">
        <form method="post" action="/api/v1/tasks/post" class="mb-14">
            <input name="name" placeholder="Add Name" class="bg-white w-80 pl-2.5 py-3.5 text-black"/>
            <button class="bg-[#00ff00] relative font-medium p-2.5 rounded cursor-pointer hover:border-2 hover:border-white hover:border-solid" type="submit">Add</button>
        </form>
        <div>
            <!--  edit? 'hidden' : 'block' -->
            <% title.map((each,index) => { %>
                <div class="flex flex-row justify-center items-center mb-3.5">
                    <form method="post" action='http://localhost:3000/api/v1/tasks/delete/<%= each._id %>' class="flex flex-row justify-center items-center">
                        <div class="text-lg bg-teal-700 text-white w-80 py-3.5 rounded pl-2.5"><%= index+=1 %>. <%=each.name.toUpperCase() %></div>
                        <input class="p-2.5 relative font-medium bg-[#ff0000] ml-1.5 rounded cursor-pointer hover:border-2 hover:border-white hover:border-solid z-0" type="submit" value="Delete" />
                    </form>
                    <button class="p-2.5 relative bg-[#FEDE00] font-medium ml-1.5 rounded cursor-pointer hover:border-2 hover:border-white hover:border-solid z-0" onclick="document.getElementById('<%= each._id %>').classList.remove('hidden')">Edit</button>
                    <div class="absolute h-screen w-screen bg-black bg-opacity-50  hidden z-10 top-0 left-0"  id="<%= each._id%>">
                        <div class=" absolute inset-0 m-auto w-96 h-72 bg-white border-2 bg-[#4ADEDE] border-[#4ADEDE] border-solid">
                            <form method="post" class="flex flex-col justify-around items-center w-full h-full" action="http://localhost:3000/api/v1/tasks/update/<%= each._id%>">
                                <div class="mt-3 text-xl font-semibold">Edit your name below</div>
                                <input value="<%= each.name.toUpperCase() %>" id="cancleinput" name="rename" class="pl-2.5 outline-non w-4/5 rounded py-1.5"/>
                                <div class="flex flex-row justify-between items-center w-11/12">
                                    <div class="p-2.5 relative bg-[#FEDE00] font-medium ml-1.5 rounded cursor-pointer hover:border-2 hover:border-white hover:border-solid" onclick="document.getElementById('<%= each._id %>').classList.add('hidden');">Cancle</div>
                                    <button class="p-2.5 relative bg-[#00FF00] font-medium ml-1.5 rounded cursor-pointer hover:border-2 hover:border-white hover:border-solid" type="submit">Save</button>                            
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            <% }); %>
            
        </div>
    </div>
</body>
</html>